{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/spin.js/spin.js","src/CookieManager.js","src/Toolkit.js","src/app.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign({}, defaults, opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","class CookieManager {\r\n\r\n    setupCookie(name, value, days) {\r\n        // construct date object - will be today's date by default\r\n        let date = new Date();\r\n        // set time to be today plus how many days specified\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        // concatenate the expires name/value pair with expiry date converted to GMT \r\n        let expires = \"expires=\" + date.toGMTString();\r\n        // assemble cookie\r\n        document.cookie = name + \"=\" + value + \";\" + expires + \";\";\r\n    }\r\n    \r\n    retrieveCookie(name) {\r\n        // return undefined if no cookie stored\r\n        if (document.cookie === \"\") return undefined;\r\n        // value to be returned is undefined by default\r\n        let value;\r\n        // put cookie name/value pairs into an array split on the ; delimiter (since there could be multiple cookies in the file)\r\n        let cookieArray = document.cookie.split(\";\");\r\n        // remove blank spaces from all elements of cookieArray\r\n        cookieArray = cookieArray.map(cookie => cookie.trim());\r\n        // find cookie with name and set value\r\n        cookieArray.forEach(cookie => {\r\n            if (cookie.split(\"=\")[0] == name) {\r\n                value = cookie.split(\"=\")[1];\r\n            }    \r\n        });\r\n        return value;\r\n    }     \r\n}\r\n\r\nexport { CookieManager };","// randomly generates a number between the range of low and high\r\nfunction getRandom(low = 1, high = 10) {\r\n\tlet randomNumber;\r\n\t// calculate random number\r\n    randomNumber = Math.floor(Math.random() * (high - low)) + low;\r\n\t// return random number\r\n\treturn randomNumber;\r\n}\r\n\r\nfunction addKey(functionToCall, myKeyCode = 13) {\r\n    // wire up event listener\r\n    document.addEventListener(\"keydown\", (e) => {\r\n        // is the key released the provided key? Check keyCode via Event object\r\n        if (e.keyCode === myKeyCode) {\r\n            // pressing the enter key will force some browsers to refresh\r\n            // this command stops the event from going further\r\n            e.preventDefault();\r\n            // call provided callback to do everything else that needs to be done\r\n            functionToCall();\r\n            // this also helps the event from propagating in some browsers\r\n            return false;\r\n        }\r\n    });\r\n}\r\n\r\n// ----------------------------------------- challenge solution\r\nfunction getXMLData(retrieveScript, success, failure) {\r\n    // send out AJAX request\r\n    let xmlhttp = new XMLHttpRequest();\r\n    xmlhttp.addEventListener(\"load\", (e) => {\r\n        // has the response been received successfully?\r\n        if (xmlhttp.status == 200) {\r\n            // data retrieved - call success method and pass along XML object response\r\n            success(xmlhttp.responseXML);\r\n        } else {\r\n            failure();\r\n        }\r\n    });\r\n    xmlhttp.addEventListener(\"error\", (e) => {\r\n        failure();\r\n    });\r\n    xmlhttp.open(\"GET\", retrieveScript, true);\r\n    xmlhttp.send();\r\n}\r\n// ------------------------------------------------------------\r\n\r\nexport {getRandom, addKey, getXMLData};","import { Spinner } from \"spin.js\";\r\n// -------------------------------- challenge solution\r\nimport {getXMLData} from \"./Toolkit.js\";\r\n// --------------------------------------------------\r\n// import $ from \"jquery\";\r\n\r\nimport {CookieManager} from \"./CookieManager\";\r\n\r\n// cookieManager object\r\nlet cookieManager = null;\r\nlet lastCity = null;\r\nlet retrieved = 0;\r\nlet retrieveScript;\r\n// xmlHttpRequest object for carrying out AJAX\r\nlet xmlhttp;\r\nlet xmlObject;\r\n// number of cities in XML\r\nlet citiesCount = 0;\r\n\r\nlet cities;\r\nlet option;\r\nlet listItem;\r\nlet loadingOverlay;\r\n\r\n// weather variables\r\nlet conditions;\r\nlet sunrise;\r\nlet sunset;\r\nlet currentTemp;\r\nlet lowTemp;\r\nlet highTemp;\r\nlet humidity;\r\nlet pressure;\r\nlet windDirectionCode;\r\nlet windDirection;\r\nlet windStrength;\r\nlet windSpeed;\r\n\r\n// let hours;\r\n// let minutes;\r\n\r\n// construct Spinner object (spin.js) and add to loading-overlay <div> http://spin.js.org/\r\nlet spinner = new Spinner({ color: '#FFFFFF', lines: 12 }).spin(document.getElementsByClassName(\"loading-overlay\")[0]);\r\n\r\n// ------------------------------------------------------- private methods\r\nfunction populateMe() {\r\n    // populate the dropdown menu\r\n    for (let i = 0; i < citiesCount; i++) {\r\n        // create element for dropdown\r\n        option = document.createElement(\"option\");\r\n        let city = xmlObject.getElementsByTagName(\"name\")[i].textContent;\r\n        let province = xmlObject.getElementsByTagName(\"province\")[i].textContent;\r\n        option.text = city + \", \" + province;\r\n\r\n        // add element to cities as a new option\r\n        cities.add(option, null);\r\n    }\r\n\r\n    cities.addEventListener(\"change\", onChanged);\r\n}\r\n\r\nfunction getWeatherData() {\r\n    conditions = xmlObject.getElementsByTagName(\"weather\")[0].getAttribute(\"value\");\r\n    sunrise = xmlObject.getElementsByTagName(\"sun\")[0].getAttribute(\"rise\");\r\n    sunset = xmlObject.getElementsByTagName(\"sun\")[0].getAttribute(\"set\");\r\n    currentTemp = xmlObject.getElementsByTagName(\"temperature\")[0].getAttribute(\"value\");\r\n    lowTemp = xmlObject.getElementsByTagName(\"temperature\")[0].getAttribute(\"min\");\r\n    highTemp = xmlObject.getElementsByTagName(\"temperature\")[0].getAttribute(\"max\");\r\n    humidity = xmlObject.getElementsByTagName(\"humidity\")[0].getAttribute(\"value\");\r\n    pressure = xmlObject.getElementsByTagName(\"pressure\")[0].getAttribute(\"value\");\r\n    windDirectionCode = xmlObject.getElementsByTagName(\"direction\")[0].getAttribute(\"value\");\r\n    windDirection = xmlObject.getElementsByTagName(\"direction\")[0].getAttribute(\"name\");\r\n    windSpeed = xmlObject.getElementsByTagName(\"speed\")[0].getAttribute(\"value\");\r\n    windStrength = xmlObject.getElementsByTagName(\"speed\")[0].getAttribute(\"name\");\r\n    // console.log(windDirectionCode.toLowerCase());\r\n}\r\n\r\nfunction convertWeatherData() {\r\n    sunrise = new Date(sunrise + \"Z\");\r\n    sunset = new Date(sunset + \"Z\");\r\n    let month = sunrise.getMonth() + 1;\r\n    if (month < 10) {\r\n        month = \"0\" + month;\r\n    }\r\n    let day = sunrise.getDate();\r\n    // console.log(day);\r\n    if (day < 10) {\r\n        day = \"0\" + day;\r\n    }\r\n    let hours = sunrise.getHours();\r\n    let minutes = sunrise.getMinutes();\r\n    if (minutes < 10) {\r\n        minutes = \"0\" + minutes;\r\n    }\r\n    let year = sunrise.getFullYear();\r\n    sunrise = month + \"/\" + day + \"/\" + year + \"  \" + hours + \":\" + minutes;\r\n    month = sunset.getMonth() + 1;\r\n    if (month < 10) {\r\n        month = \"0\" + month;\r\n    }\r\n    day = sunset.getDate();\r\n    if (day < 10) {\r\n        day = \"0\" + day;\r\n    }\r\n    hours = sunset.getHours();\r\n    minutes = sunset.getMinutes();\r\n    if (minutes < 10) {\r\n        minutes = \"0\" + minutes;\r\n    }\r\n    year = sunset.getFullYear();\r\n    sunset = month + \"/\" + day + \"/\" + year + \"  \" + hours + \":\" + minutes;\r\n    currentTemp -= 273.15;\r\n    lowTemp -= 273.15;\r\n    highTemp -= 273.15;\r\n}\r\n\r\nfunction displayData() {\r\n\r\n    let code = xmlObject.getElementsByTagName(\"weather\")[0].getAttribute(\"number\");\r\n    document.getElementsByClassName(\"info__icon\")[0].innerHTML = `<i class=\"wi wi-owm-${code}\"></i>`;\r\n    document.getElementsByClassName(\"info__conditions\")[0].innerHTML = conditions;\r\n    document.getElementsByClassName(\"info__city\")[0].innerHTML = listItem;\r\n    document.getElementsByClassName(\"weather__sun__rise\")[0].innerHTML = `<i class=\"wi wi-sunrise\"></i>&nbsp;${sunrise}`;\r\n    document.getElementsByClassName(\"weather__sun__set\")[0].innerHTML = `<i class=\"wi wi-sunset\"></i>&nbsp;${sunset}`;\r\n    document.getElementsByClassName(\"weather__temp__current\")[0].innerHTML = `${Math.round(currentTemp)}<i class=\"wi wi-celsius\"></i>&nbsp;&nbsp;Current`;\r\n    document.getElementsByClassName(\"weather__temp__low\")[0].innerHTML = `${Math.round(lowTemp)}<i class=\"wi wi-celsius\"></i>&nbsp;&nbsp;Low`;\r\n    document.getElementsByClassName(\"weather__temp__high\")[0].innerHTML = `${Math.round(highTemp)}<i class=\"wi wi-celsius\"></i>&nbsp;&nbsp;High`;\r\n    document.getElementsByClassName(\"weather__humidity__value\")[0].innerHTML = `${humidity} %`;\r\n    document.getElementsByClassName(\"weather__pressure__value\")[0].innerHTML = `${pressure} hPa`;\r\n    document.getElementsByClassName(\"weather__wind__icon\")[0].innerHTML = `<i class=\"wi wi-wind towards-${windDirectionCode}-deg\"></i><b>&nbsp;&nbsp;Wind</b>`;\r\n    document.getElementsByClassName(\"weather__wind__direction\")[0].innerHTML = `${windDirection} wind`;\r\n    document.getElementsByClassName(\"weather__wind__strength\")[0].innerHTML = windStrength;\r\n    document.getElementsByClassName(\"weather__wind__speed\")[0].innerHTML = `${windSpeed} km/h speed`;\r\n   \r\n}\r\n\r\n// ------------------------------------------------------- event handlers\r\nfunction onCityDataLoaded(result) {\r\n\r\n    // grab the XML response\r\n    xmlObject = result;\r\n    loadingOverlay.style.display = \"none\";\r\n    document.getElementsByClassName(\"info__icon\")[0].style.display = \"block\";\r\n    document.getElementsByClassName(\"info__conditions\")[0].style.display = \"block\";\r\n    document.getElementsByClassName(\"weather\")[0].style.display = \"flex\";\r\n    document.querySelector(\".main\").style.opacity = 1;\r\n\r\n    getWeatherData();\r\n    convertWeatherData();\r\n    displayData();\r\n}\r\n\r\nfunction onLoaded(result) {  \r\n    // grab the XML response\r\n    xmlObject = result;\r\n \r\n    citiesCount = xmlObject.getElementsByTagName(\"city\").length;\r\n    if (citiesCount > 0) {\r\n        populateMe();\r\n        listItem = cookieManager.retrieveCookie(\"lastCity\");\r\n        if (listItem != undefined) {\r\n            cities.value = listItem;\r\n            console.log(\"after retrieve: \" + listItem);\r\n        }\r\n\r\n        onChanged();\r\n        loadingOverlay.style.display = \"none\";\r\n    }\r\n}\r\n\r\nfunction onCityNotFound(e) {\r\n    document.getElementsByClassName(\"info__city\")[0].innerHTML = \"City not found\".fontcolor(\"red\").italics();\r\n    document.getElementsByClassName(\"info__icon\")[0].style.display = \"none\";\r\n    document.getElementsByClassName(\"info__conditions\")[0].style.display = \"none\";\r\n    document.getElementsByClassName(\"weather\")[0].style.display = \"none\";\r\n}\r\n\r\nfunction onError(e) {\r\n    console.log(\"*** Error has occured during AJAX data retrieval\");\r\n}\r\n\r\nfunction onChanged(e) {\r\n    console.log(\"in onChanged: \" + listItem);\r\n\r\n    // reference to option in cities\r\n    listItem = cities.selectedOptions[0];\r\n    console.log(\"in onChanged textContent: \" + listItem.textContent);\r\n    lastCity = listItem.textContent;\r\n    listItem = lastCity;\r\n    saveData();\r\n\r\n\r\n    let citySplit = listItem.split(\",\");\r\n    // console.log(listItem.textContent);\r\n    console.log(citySplit[0]);\r\n    retrieveScript = `http://api.openweathermap.org/data/2.5/weather?q=${citySplit[0]},CA&mode=xml&appid=6761afb1468ce2fec9c0b3c67ee37aa2`;\r\n    document.querySelector(\".main\").style.opacity = 0.2;\r\n\r\n    getXMLData(retrieveScript, onCityDataLoaded, onCityNotFound);\r\n}\r\n\r\nfunction saveData() {\r\n    // write current won and lost count to cookie for future games\r\n    cookieManager.setupCookie(\"lastCity\", lastCity, 365);\r\n    // cookieManager.setupCookie(\"losts\", lost, 365);\r\n}\r\n\r\n// ------------------------------------------------------- private methods\r\nfunction main() {\r\n\r\n    // construct cookieManager\r\n    cookieManager = new CookieManager();\r\n\r\n\r\n\r\n    // setup references to controls\r\n    retrieveScript = \"cities.xml\";\r\n    cities = document.getElementById(\"cities\");\r\n    loadingOverlay = document.getElementsByClassName(\"loading-overlay\")[0];\r\n\r\n    // send out AJAX request\r\n    getXMLData(retrieveScript, onLoaded, onError);\r\n    // ----------------------------------------------------------\r\n}\r\n\r\nmain();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc3Bpbi5qcy9zcGluLmpzIiwic3JjL0Nvb2tpZU1hbmFnZXIuanMiLCJzcmMvVG9vbGtpdC5qcyIsInNyYy9hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQUksV0FBWSxhQUFRLFVBQUssUUFBZCxJQUEyQixPQUFPLE1BQWxDLElBQTRDLFVBQVMsQ0FBVCxFQUFZO0FBQ25FLFNBQUssSUFBSSxDQUFKLEVBQU8sSUFBSSxDQUFYLEVBQWMsSUFBSSxVQUFVLE1BQWpDLEVBQXlDLElBQUksQ0FBN0MsRUFBZ0QsR0FBaEQsRUFBcUQ7QUFDakQsWUFBSSxVQUFVLENBQVYsQ0FBSjtBQUNBLGFBQUssSUFBSSxDQUFULElBQWMsQ0FBZDtBQUFpQixnQkFBSSxPQUFPLFNBQVAsQ0FBaUIsY0FBakIsQ0FBZ0MsSUFBaEMsQ0FBcUMsQ0FBckMsRUFBd0MsQ0FBeEMsQ0FBSixFQUNiLEVBQUUsQ0FBRixJQUFPLEVBQUUsQ0FBRixDQUFQO0FBREo7QUFFSDtBQUNELFdBQU8sQ0FBUDtBQUNILENBUEQ7QUFRQSxJQUFJLFdBQVc7QUFDWCxXQUFPLEVBREk7QUFFWCxZQUFRLENBRkc7QUFHWCxXQUFPLENBSEk7QUFJWCxZQUFRLEVBSkc7QUFLWCxXQUFPLEdBTEk7QUFNWCxhQUFTLENBTkU7QUFPWCxXQUFPLE1BUEk7QUFRWCxlQUFXLGFBUkE7QUFTWCxlQUFXLDJCQVRBO0FBVVgsWUFBUSxDQVZHO0FBV1gsZUFBVyxDQVhBO0FBWVgsV0FBTyxDQVpJO0FBYVgsWUFBUSxHQWJHO0FBY1gsZUFBVyxTQWRBO0FBZVgsU0FBSyxLQWZNO0FBZ0JYLFVBQU0sS0FoQks7QUFpQlgsWUFBUSxxQkFqQkc7QUFrQlgsY0FBVTtBQWxCQyxDQUFmO0FBb0JBLElBQUksVUFBVSxhQUFlLFlBQVk7QUFDckMsYUFBUyxPQUFULENBQWlCLElBQWpCLEVBQXVC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QSxHQUFBO0FBQ0E7QUFDSDs7QUFFRDtBQUNBLFNBQUEsSUFBQSxHQUFnQjs7QUFFWjtBQUNBLG9CQUFnQixJQUFJLGVBQXBCLGFBQWdCLEVBQWhCOztBQUlBO0FBQ0EscUJBQUEsWUFBQTtBQUNBLGFBQVMsU0FBQSxjQUFBLENBQVQsUUFBUyxDQUFUO0FBQ0EscUJBQWlCLFNBQUEsc0JBQUEsQ0FBQSxpQkFBQSxFQUFqQixDQUFpQixDQUFqQjs7QUFFQTtBQUNBLEtBQUEsR0FBQSxTQUFBLFVBQUEsRUFBQSxjQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUE7QUFDQTtBQUNIOztBQUVEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxudmFyIGRlZmF1bHRzID0ge1xyXG4gICAgbGluZXM6IDEyLFxyXG4gICAgbGVuZ3RoOiA3LFxyXG4gICAgd2lkdGg6IDUsXHJcbiAgICByYWRpdXM6IDEwLFxyXG4gICAgc2NhbGU6IDEuMCxcclxuICAgIGNvcm5lcnM6IDEsXHJcbiAgICBjb2xvcjogJyMwMDAnLFxyXG4gICAgZmFkZUNvbG9yOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgYW5pbWF0aW9uOiAnc3Bpbm5lci1saW5lLWZhZGUtZGVmYXVsdCcsXHJcbiAgICByb3RhdGU6IDAsXHJcbiAgICBkaXJlY3Rpb246IDEsXHJcbiAgICBzcGVlZDogMSxcclxuICAgIHpJbmRleDogMmU5LFxyXG4gICAgY2xhc3NOYW1lOiAnc3Bpbm5lcicsXHJcbiAgICB0b3A6ICc1MCUnLFxyXG4gICAgbGVmdDogJzUwJScsXHJcbiAgICBzaGFkb3c6ICcwIDAgMXB4IHRyYW5zcGFyZW50JyxcclxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG59O1xyXG52YXIgU3Bpbm5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNwaW5uZXIob3B0cykge1xyXG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XHJcbiAgICAgICAgdGhpcy5vcHRzID0gX19hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyB0aGUgc3Bpbm5lciB0byB0aGUgZ2l2ZW4gdGFyZ2V0IGVsZW1lbnQuIElmIHRoaXMgaW5zdGFuY2UgaXMgYWxyZWFkeVxyXG4gICAgICogc3Bpbm5pbmcsIGl0IGlzIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIGl0cyBwcmV2aW91cyB0YXJnZXQgYnkgY2FsbGluZ1xyXG4gICAgICogc3RvcCgpIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIFNwaW5uZXIucHJvdG90eXBlLnNwaW4gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gdGhpcy5vcHRzLmNsYXNzTmFtZTtcclxuICAgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcm9ncmVzc2JhcicpO1xyXG4gICAgICAgIGNzcyh0aGlzLmVsLCB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLm9wdHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICB6SW5kZXg6IHRoaXMub3B0cy56SW5kZXgsXHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMub3B0cy5sZWZ0LFxyXG4gICAgICAgICAgICB0b3A6IHRoaXMub3B0cy50b3AsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZShcIiArIHRoaXMub3B0cy5zY2FsZSArIFwiKVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLmVsLCB0YXJnZXQuZmlyc3RDaGlsZCB8fCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZHJhd0xpbmVzKHRoaXMuZWwsIHRoaXMub3B0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBhbmQgcmVtb3ZlcyB0aGUgU3Bpbm5lci5cclxuICAgICAqIFN0b3BwZWQgc3Bpbm5lcnMgbWF5IGJlIHJldXNlZCBieSBjYWxsaW5nIHNwaW4oKSBhZ2Fpbi5cclxuICAgICAqL1xyXG4gICAgU3Bpbm5lci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGVJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZWwucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTcGlubmVyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBTcGlubmVyIH07XHJcbi8qKlxyXG4gKiBTZXRzIG11bHRpcGxlIHN0eWxlIHByb3BlcnRpZXMgYXQgb25jZS5cclxuICovXHJcbmZ1bmN0aW9uIGNzcyhlbCwgcHJvcHMpIHtcclxuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICBlbC5zdHlsZVtwcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBsaW5lIGNvbG9yIGZyb20gdGhlIGdpdmVuIHN0cmluZyBvciBhcnJheS5cclxuICovXHJcbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yLCBpZHgpIHtcclxuICAgIHJldHVybiB0eXBlb2YgY29sb3IgPT0gJ3N0cmluZycgPyBjb2xvciA6IGNvbG9yW2lkeCAlIGNvbG9yLmxlbmd0aF07XHJcbn1cclxuLyoqXHJcbiAqIEludGVybmFsIG1ldGhvZCB0aGF0IGRyYXdzIHRoZSBpbmRpdmlkdWFsIGxpbmVzLlxyXG4gKi9cclxuZnVuY3Rpb24gZHJhd0xpbmVzKGVsLCBvcHRzKSB7XHJcbiAgICB2YXIgYm9yZGVyUmFkaXVzID0gKE1hdGgucm91bmQob3B0cy5jb3JuZXJzICogb3B0cy53aWR0aCAqIDUwMCkgLyAxMDAwKSArICdweCc7XHJcbiAgICB2YXIgc2hhZG93ID0gJ25vbmUnO1xyXG4gICAgaWYgKG9wdHMuc2hhZG93ID09PSB0cnVlKSB7XHJcbiAgICAgICAgc2hhZG93ID0gJzAgMnB4IDRweCAjMDAwJzsgLy8gZGVmYXVsdCBzaGFkb3dcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRzLnNoYWRvdyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBzaGFkb3cgPSBvcHRzLnNoYWRvdztcclxuICAgIH1cclxuICAgIHZhciBzaGFkb3dzID0gcGFyc2VCb3hTaGFkb3coc2hhZG93KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0cy5saW5lczsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRlZ3JlZXMgPSB+figzNjAgLyBvcHRzLmxpbmVzICogaSArIG9wdHMucm90YXRlKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZExpbmUgPSBjc3MoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIHRvcDogLW9wdHMud2lkdGggLyAyICsgXCJweFwiLFxyXG4gICAgICAgICAgICB3aWR0aDogKG9wdHMubGVuZ3RoICsgb3B0cy53aWR0aCkgKyAncHgnLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdHMud2lkdGggKyAncHgnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBnZXRDb2xvcihvcHRzLmZhZGVDb2xvciwgaSksXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICdsZWZ0JyxcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZShcIiArIGRlZ3JlZXMgKyBcImRlZykgdHJhbnNsYXRlWChcIiArIG9wdHMucmFkaXVzICsgXCJweClcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZGVsYXkgPSBpICogb3B0cy5kaXJlY3Rpb24gLyBvcHRzLmxpbmVzIC8gb3B0cy5zcGVlZDtcclxuICAgICAgICBkZWxheSAtPSAxIC8gb3B0cy5zcGVlZDsgLy8gc28gaW5pdGlhbCBhbmltYXRpb24gc3RhdGUgd2lsbCBpbmNsdWRlIHRyYWlsXHJcbiAgICAgICAgdmFyIGxpbmUgPSBjc3MoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGdldENvbG9yKG9wdHMuY29sb3IsIGkpLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IGJvcmRlclJhZGl1cyxcclxuICAgICAgICAgICAgYm94U2hhZG93OiBub3JtYWxpemVTaGFkb3coc2hhZG93cywgZGVncmVlcyksXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogMSAvIG9wdHMuc3BlZWQgKyBcInMgbGluZWFyIFwiICsgZGVsYXkgKyBcInMgaW5maW5pdGUgXCIgKyBvcHRzLmFuaW1hdGlvbixcclxuICAgICAgICB9KTtcclxuICAgICAgICBiYWNrZ3JvdW5kTGluZS5hcHBlbmRDaGlsZChsaW5lKTtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kTGluZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VCb3hTaGFkb3coYm94U2hhZG93KSB7XHJcbiAgICB2YXIgcmVnZXggPSAvXlxccyooW2EtekEtWl0rXFxzKyk/KC0/XFxkKyhcXC5cXGQrKT8pKFthLXpBLVpdKilcXHMrKC0/XFxkKyhcXC5cXGQrKT8pKFthLXpBLVpdKikoLiopJC87XHJcbiAgICB2YXIgc2hhZG93cyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGJveFNoYWRvdy5zcGxpdCgnLCcpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBzaGFkb3cgPSBfYVtfaV07XHJcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBzaGFkb3cubWF0Y2gocmVnZXgpO1xyXG4gICAgICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBpbnZhbGlkIHN5bnRheFxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgeCA9ICttYXRjaGVzWzJdO1xyXG4gICAgICAgIHZhciB5ID0gK21hdGNoZXNbNV07XHJcbiAgICAgICAgdmFyIHhVbml0cyA9IG1hdGNoZXNbNF07XHJcbiAgICAgICAgdmFyIHlVbml0cyA9IG1hdGNoZXNbN107XHJcbiAgICAgICAgaWYgKHggPT09IDAgJiYgIXhVbml0cykge1xyXG4gICAgICAgICAgICB4VW5pdHMgPSB5VW5pdHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5ID09PSAwICYmICF5VW5pdHMpIHtcclxuICAgICAgICAgICAgeVVuaXRzID0geFVuaXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeFVuaXRzICE9PSB5VW5pdHMpIHtcclxuICAgICAgICAgICAgY29udGludWU7IC8vIHVuaXRzIG11c3QgbWF0Y2ggdG8gdXNlIGFzIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNoYWRvd3MucHVzaCh7XHJcbiAgICAgICAgICAgIHByZWZpeDogbWF0Y2hlc1sxXSB8fCAnJyxcclxuICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgeFVuaXRzOiB4VW5pdHMsXHJcbiAgICAgICAgICAgIHlVbml0czogeVVuaXRzLFxyXG4gICAgICAgICAgICBlbmQ6IG1hdGNoZXNbOF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2hhZG93cztcclxufVxyXG4vKipcclxuICogTW9kaWZ5IGJveC1zaGFkb3cgeC95IG9mZnNldHMgdG8gY291bnRlcmFjdCByb3RhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplU2hhZG93KHNoYWRvd3MsIGRlZ3JlZXMpIHtcclxuICAgIHZhciBub3JtYWxpemVkID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIHNoYWRvd3NfMSA9IHNoYWRvd3M7IF9pIDwgc2hhZG93c18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBzaGFkb3cgPSBzaGFkb3dzXzFbX2ldO1xyXG4gICAgICAgIHZhciB4eSA9IGNvbnZlcnRPZmZzZXQoc2hhZG93LngsIHNoYWRvdy55LCBkZWdyZWVzKTtcclxuICAgICAgICBub3JtYWxpemVkLnB1c2goc2hhZG93LnByZWZpeCArIHh5WzBdICsgc2hhZG93LnhVbml0cyArICcgJyArIHh5WzFdICsgc2hhZG93LnlVbml0cyArIHNoYWRvdy5lbmQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQuam9pbignLCAnKTtcclxufVxyXG5mdW5jdGlvbiBjb252ZXJ0T2Zmc2V0KHgsIHksIGRlZ3JlZXMpIHtcclxuICAgIHZhciByYWRpYW5zID0gZGVncmVlcyAqIE1hdGguUEkgLyAxODA7XHJcbiAgICB2YXIgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XHJcbiAgICB2YXIgY29zID0gTWF0aC5jb3MocmFkaWFucyk7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIE1hdGgucm91bmQoKHggKiBjb3MgKyB5ICogc2luKSAqIDEwMDApIC8gMTAwMCxcclxuICAgICAgICBNYXRoLnJvdW5kKCgteCAqIHNpbiArIHkgKiBjb3MpICogMTAwMCkgLyAxMDAwLFxyXG4gICAgXTtcclxufVxyXG4iLCJjbGFzcyBDb29raWVNYW5hZ2VyIHtcclxuXHJcbiAgICBzZXR1cENvb2tpZShuYW1lLCB2YWx1ZSwgZGF5cykge1xyXG4gICAgICAgIC8vIGNvbnN0cnVjdCBkYXRlIG9iamVjdCAtIHdpbGwgYmUgdG9kYXkncyBkYXRlIGJ5IGRlZmF1bHRcclxuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgLy8gc2V0IHRpbWUgdG8gYmUgdG9kYXkgcGx1cyBob3cgbWFueSBkYXlzIHNwZWNpZmllZFxyXG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgICAgIC8vIGNvbmNhdGVuYXRlIHRoZSBleHBpcmVzIG5hbWUvdmFsdWUgcGFpciB3aXRoIGV4cGlyeSBkYXRlIGNvbnZlcnRlZCB0byBHTVQgXHJcbiAgICAgICAgbGV0IGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkYXRlLnRvR01UU3RyaW5nKCk7XHJcbiAgICAgICAgLy8gYXNzZW1ibGUgY29va2llXHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0cmlldmVDb29raWUobmFtZSkge1xyXG4gICAgICAgIC8vIHJldHVybiB1bmRlZmluZWQgaWYgbm8gY29va2llIHN0b3JlZFxyXG4gICAgICAgIGlmIChkb2N1bWVudC5jb29raWUgPT09IFwiXCIpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgLy8gdmFsdWUgdG8gYmUgcmV0dXJuZWQgaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuICAgICAgICBsZXQgdmFsdWU7XHJcbiAgICAgICAgLy8gcHV0IGNvb2tpZSBuYW1lL3ZhbHVlIHBhaXJzIGludG8gYW4gYXJyYXkgc3BsaXQgb24gdGhlIDsgZGVsaW1pdGVyIChzaW5jZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBjb29raWVzIGluIHRoZSBmaWxlKVxyXG4gICAgICAgIGxldCBjb29raWVBcnJheSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGJsYW5rIHNwYWNlcyBmcm9tIGFsbCBlbGVtZW50cyBvZiBjb29raWVBcnJheVxyXG4gICAgICAgIGNvb2tpZUFycmF5ID0gY29va2llQXJyYXkubWFwKGNvb2tpZSA9PiBjb29raWUudHJpbSgpKTtcclxuICAgICAgICAvLyBmaW5kIGNvb2tpZSB3aXRoIG5hbWUgYW5kIHNldCB2YWx1ZVxyXG4gICAgICAgIGNvb2tpZUFycmF5LmZvckVhY2goY29va2llID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvb2tpZS5zcGxpdChcIj1cIilbMF0gPT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb29raWUuc3BsaXQoXCI9XCIpWzFdO1xyXG4gICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0gICAgIFxyXG59XHJcblxyXG5leHBvcnQgeyBDb29raWVNYW5hZ2VyIH07IiwiLy8gcmFuZG9tbHkgZ2VuZXJhdGVzIGEgbnVtYmVyIGJldHdlZW4gdGhlIHJhbmdlIG9mIGxvdyBhbmQgaGlnaFxyXG5mdW5jdGlvbiBnZXRSYW5kb20obG93ID0gMSwgaGlnaCA9IDEwKSB7XHJcblx0bGV0IHJhbmRvbU51bWJlcjtcclxuXHQvLyBjYWxjdWxhdGUgcmFuZG9tIG51bWJlclxyXG4gICAgcmFuZG9tTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGhpZ2ggLSBsb3cpKSArIGxvdztcclxuXHQvLyByZXR1cm4gcmFuZG9tIG51bWJlclxyXG5cdHJldHVybiByYW5kb21OdW1iZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEtleShmdW5jdGlvblRvQ2FsbCwgbXlLZXlDb2RlID0gMTMpIHtcclxuICAgIC8vIHdpcmUgdXAgZXZlbnQgbGlzdGVuZXJcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gaXMgdGhlIGtleSByZWxlYXNlZCB0aGUgcHJvdmlkZWQga2V5PyBDaGVjayBrZXlDb2RlIHZpYSBFdmVudCBvYmplY3RcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBteUtleUNvZGUpIHtcclxuICAgICAgICAgICAgLy8gcHJlc3NpbmcgdGhlIGVudGVyIGtleSB3aWxsIGZvcmNlIHNvbWUgYnJvd3NlcnMgdG8gcmVmcmVzaFxyXG4gICAgICAgICAgICAvLyB0aGlzIGNvbW1hbmQgc3RvcHMgdGhlIGV2ZW50IGZyb20gZ29pbmcgZnVydGhlclxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIC8vIGNhbGwgcHJvdmlkZWQgY2FsbGJhY2sgdG8gZG8gZXZlcnl0aGluZyBlbHNlIHRoYXQgbmVlZHMgdG8gYmUgZG9uZVxyXG4gICAgICAgICAgICBmdW5jdGlvblRvQ2FsbCgpO1xyXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gaGVscHMgdGhlIGV2ZW50IGZyb20gcHJvcGFnYXRpbmcgaW4gc29tZSBicm93c2Vyc1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNoYWxsZW5nZSBzb2x1dGlvblxyXG5mdW5jdGlvbiBnZXRYTUxEYXRhKHJldHJpZXZlU2NyaXB0LCBzdWNjZXNzLCBmYWlsdXJlKSB7XHJcbiAgICAvLyBzZW5kIG91dCBBSkFYIHJlcXVlc3RcclxuICAgIGxldCB4bWxodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4bWxodHRwLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gaGFzIHRoZSByZXNwb25zZSBiZWVuIHJlY2VpdmVkIHN1Y2Nlc3NmdWxseT9cclxuICAgICAgICBpZiAoeG1saHR0cC5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIC8vIGRhdGEgcmV0cmlldmVkIC0gY2FsbCBzdWNjZXNzIG1ldGhvZCBhbmQgcGFzcyBhbG9uZyBYTUwgb2JqZWN0IHJlc3BvbnNlXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MoeG1saHR0cC5yZXNwb25zZVhNTCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmFpbHVyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgeG1saHR0cC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGUpID0+IHtcclxuICAgICAgICBmYWlsdXJlKCk7XHJcbiAgICB9KTtcclxuICAgIHhtbGh0dHAub3BlbihcIkdFVFwiLCByZXRyaWV2ZVNjcmlwdCwgdHJ1ZSk7XHJcbiAgICB4bWxodHRwLnNlbmQoKTtcclxufVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCB7Z2V0UmFuZG9tLCBhZGRLZXksIGdldFhNTERhdGF9OyIsImltcG9ydCB7IFNwaW5uZXIgfSBmcm9tIFwic3Bpbi5qc1wiO1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBjaGFsbGVuZ2Ugc29sdXRpb25cclxuaW1wb3J0IHtnZXRYTUxEYXRhfSBmcm9tIFwiLi9Ub29sa2l0LmpzXCI7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIGltcG9ydCAkIGZyb20gXCJqcXVlcnlcIjtcclxuXHJcbmltcG9ydCB7Q29va2llTWFuYWdlcn0gZnJvbSBcIi4vQ29va2llTWFuYWdlclwiO1xyXG5cclxuLy8gY29va2llTWFuYWdlciBvYmplY3RcclxubGV0IGNvb2tpZU1hbmFnZXIgPSBudWxsO1xyXG5sZXQgbGFzdENpdHkgPSBudWxsO1xyXG5sZXQgcmV0cmlldmVkID0gMDtcclxubGV0IHJldHJpZXZlU2NyaXB0O1xyXG4vLyB4bWxIdHRwUmVxdWVzdCBvYmplY3QgZm9yIGNhcnJ5aW5nIG91dCBBSkFYXHJcbmxldCB4bWxodHRwO1xyXG5sZXQgeG1sT2JqZWN0O1xyXG4vLyBudW1iZXIgb2YgY2l0aWVzIGluIFhNTFxyXG5sZXQgY2l0aWVzQ291bnQgPSAwO1xyXG5cclxubGV0IGNpdGllcztcclxubGV0IG9wdGlvbjtcclxubGV0IGxpc3RJdGVtO1xyXG5sZXQgbG9hZGluZ092ZXJsYXk7XHJcblxyXG4vLyB3ZWF0aGVyIHZhcmlhYmxlc1xyXG5sZXQgY29uZGl0aW9ucztcclxubGV0IHN1bnJpc2U7XHJcbmxldCBzdW5zZXQ7XHJcbmxldCBjdXJyZW50VGVtcDtcclxubGV0IGxvd1RlbXA7XHJcbmxldCBoaWdoVGVtcDtcclxubGV0IGh1bWlkaXR5O1xyXG5sZXQgcHJlc3N1cmU7XHJcbmxldCB3aW5kRGlyZWN0aW9uQ29kZTtcclxubGV0IHdpbmREaXJlY3Rpb247XHJcbmxldCB3aW5kU3RyZW5ndGg7XHJcbmxldCB3aW5kU3BlZWQ7XHJcblxyXG4vLyBsZXQgaG91cnM7XHJcbi8vIGxldCBtaW51dGVzO1xyXG5cclxuLy8gY29uc3RydWN0IFNwaW5uZXIgb2JqZWN0IChzcGluLmpzKSBhbmQgYWRkIHRvIGxvYWRpbmctb3ZlcmxheSA8ZGl2PiBodHRwOi8vc3Bpbi5qcy5vcmcvXHJcbmxldCBzcGlubmVyID0gbmV3IFNwaW5uZXIoeyBjb2xvcjogJyNGRkZGRkYnLCBsaW5lczogMTIgfSkuc3Bpbihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibG9hZGluZy1vdmVybGF5XCIpWzBdKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcHJpdmF0ZSBtZXRob2RzXHJcbmZ1bmN0aW9uIHBvcHVsYXRlTWUoKSB7XHJcbiAgICAvLyBwb3B1bGF0ZSB0aGUgZHJvcGRvd24gbWVudVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaXRpZXNDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnQgZm9yIGRyb3Bkb3duXHJcbiAgICAgICAgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICBsZXQgY2l0eSA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm5hbWVcIilbaV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgbGV0IHByb3ZpbmNlID0geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicHJvdmluY2VcIilbaV0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgb3B0aW9uLnRleHQgPSBjaXR5ICsgXCIsIFwiICsgcHJvdmluY2U7XHJcblxyXG4gICAgICAgIC8vIGFkZCBlbGVtZW50IHRvIGNpdGllcyBhcyBhIG5ldyBvcHRpb25cclxuICAgICAgICBjaXRpZXMuYWRkKG9wdGlvbiwgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2l0aWVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgb25DaGFuZ2VkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0V2VhdGhlckRhdGEoKSB7XHJcbiAgICBjb25kaXRpb25zID0geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwid2VhdGhlclwiKVswXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcclxuICAgIHN1bnJpc2UgPSB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdW5cIilbMF0uZ2V0QXR0cmlidXRlKFwicmlzZVwiKTtcclxuICAgIHN1bnNldCA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN1blwiKVswXS5nZXRBdHRyaWJ1dGUoXCJzZXRcIik7XHJcbiAgICBjdXJyZW50VGVtcCA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRlbXBlcmF0dXJlXCIpWzBdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xyXG4gICAgbG93VGVtcCA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRlbXBlcmF0dXJlXCIpWzBdLmdldEF0dHJpYnV0ZShcIm1pblwiKTtcclxuICAgIGhpZ2hUZW1wID0geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGVtcGVyYXR1cmVcIilbMF0uZ2V0QXR0cmlidXRlKFwibWF4XCIpO1xyXG4gICAgaHVtaWRpdHkgPSB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJodW1pZGl0eVwiKVswXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcclxuICAgIHByZXNzdXJlID0geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicHJlc3N1cmVcIilbMF0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XHJcbiAgICB3aW5kRGlyZWN0aW9uQ29kZSA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpcmVjdGlvblwiKVswXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcclxuICAgIHdpbmREaXJlY3Rpb24gPSB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXJlY3Rpb25cIilbMF0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICAgIHdpbmRTcGVlZCA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNwZWVkXCIpWzBdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xyXG4gICAgd2luZFN0cmVuZ3RoID0geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BlZWRcIilbMF0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHdpbmREaXJlY3Rpb25Db2RlLnRvTG93ZXJDYXNlKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0V2VhdGhlckRhdGEoKSB7XHJcbiAgICBzdW5yaXNlID0gbmV3IERhdGUoc3VucmlzZSArIFwiWlwiKTtcclxuICAgIHN1bnNldCA9IG5ldyBEYXRlKHN1bnNldCArIFwiWlwiKTtcclxuICAgIGxldCBtb250aCA9IHN1bnJpc2UuZ2V0TW9udGgoKSArIDE7XHJcbiAgICBpZiAobW9udGggPCAxMCkge1xyXG4gICAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcclxuICAgIH1cclxuICAgIGxldCBkYXkgPSBzdW5yaXNlLmdldERhdGUoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGRheSk7XHJcbiAgICBpZiAoZGF5IDwgMTApIHtcclxuICAgICAgICBkYXkgPSBcIjBcIiArIGRheTtcclxuICAgIH1cclxuICAgIGxldCBob3VycyA9IHN1bnJpc2UuZ2V0SG91cnMoKTtcclxuICAgIGxldCBtaW51dGVzID0gc3VucmlzZS5nZXRNaW51dGVzKCk7XHJcbiAgICBpZiAobWludXRlcyA8IDEwKSB7XHJcbiAgICAgICAgbWludXRlcyA9IFwiMFwiICsgbWludXRlcztcclxuICAgIH1cclxuICAgIGxldCB5ZWFyID0gc3VucmlzZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgc3VucmlzZSA9IG1vbnRoICsgXCIvXCIgKyBkYXkgKyBcIi9cIiArIHllYXIgKyBcIiAgXCIgKyBob3VycyArIFwiOlwiICsgbWludXRlcztcclxuICAgIG1vbnRoID0gc3Vuc2V0LmdldE1vbnRoKCkgKyAxO1xyXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcclxuICAgICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XHJcbiAgICB9XHJcbiAgICBkYXkgPSBzdW5zZXQuZ2V0RGF0ZSgpO1xyXG4gICAgaWYgKGRheSA8IDEwKSB7XHJcbiAgICAgICAgZGF5ID0gXCIwXCIgKyBkYXk7XHJcbiAgICB9XHJcbiAgICBob3VycyA9IHN1bnNldC5nZXRIb3VycygpO1xyXG4gICAgbWludXRlcyA9IHN1bnNldC5nZXRNaW51dGVzKCk7XHJcbiAgICBpZiAobWludXRlcyA8IDEwKSB7XHJcbiAgICAgICAgbWludXRlcyA9IFwiMFwiICsgbWludXRlcztcclxuICAgIH1cclxuICAgIHllYXIgPSBzdW5zZXQuZ2V0RnVsbFllYXIoKTtcclxuICAgIHN1bnNldCA9IG1vbnRoICsgXCIvXCIgKyBkYXkgKyBcIi9cIiArIHllYXIgKyBcIiAgXCIgKyBob3VycyArIFwiOlwiICsgbWludXRlcztcclxuICAgIGN1cnJlbnRUZW1wIC09IDI3My4xNTtcclxuICAgIGxvd1RlbXAgLT0gMjczLjE1O1xyXG4gICAgaGlnaFRlbXAgLT0gMjczLjE1O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5RGF0YSgpIHtcclxuXHJcbiAgICBsZXQgY29kZSA9IHhtbE9iamVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIndlYXRoZXJcIilbMF0uZ2V0QXR0cmlidXRlKFwibnVtYmVyXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluZm9fX2ljb25cIilbMF0uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwid2kgd2ktb3dtLSR7Y29kZX1cIj48L2k+YDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbmZvX19jb25kaXRpb25zXCIpWzBdLmlubmVySFRNTCA9IGNvbmRpdGlvbnM7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5mb19fY2l0eVwiKVswXS5pbm5lckhUTUwgPSBsaXN0SXRlbTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX19zdW5fX3Jpc2VcIilbMF0uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwid2kgd2ktc3VucmlzZVwiPjwvaT4mbmJzcDske3N1bnJpc2V9YDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX19zdW5fX3NldFwiKVswXS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJ3aSB3aS1zdW5zZXRcIj48L2k+Jm5ic3A7JHtzdW5zZXR9YDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX190ZW1wX19jdXJyZW50XCIpWzBdLmlubmVySFRNTCA9IGAke01hdGgucm91bmQoY3VycmVudFRlbXApfTxpIGNsYXNzPVwid2kgd2ktY2Vsc2l1c1wiPjwvaT4mbmJzcDsmbmJzcDtDdXJyZW50YDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX190ZW1wX19sb3dcIilbMF0uaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZChsb3dUZW1wKX08aSBjbGFzcz1cIndpIHdpLWNlbHNpdXNcIj48L2k+Jm5ic3A7Jm5ic3A7TG93YDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX190ZW1wX19oaWdoXCIpWzBdLmlubmVySFRNTCA9IGAke01hdGgucm91bmQoaGlnaFRlbXApfTxpIGNsYXNzPVwid2kgd2ktY2Vsc2l1c1wiPjwvaT4mbmJzcDsmbmJzcDtIaWdoYDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX19odW1pZGl0eV9fdmFsdWVcIilbMF0uaW5uZXJIVE1MID0gYCR7aHVtaWRpdHl9ICVgO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIndlYXRoZXJfX3ByZXNzdXJlX192YWx1ZVwiKVswXS5pbm5lckhUTUwgPSBgJHtwcmVzc3VyZX0gaFBhYDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX193aW5kX19pY29uXCIpWzBdLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cIndpIHdpLXdpbmQgdG93YXJkcy0ke3dpbmREaXJlY3Rpb25Db2RlfS1kZWdcIj48L2k+PGI+Jm5ic3A7Jm5ic3A7V2luZDwvYj5gO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIndlYXRoZXJfX3dpbmRfX2RpcmVjdGlvblwiKVswXS5pbm5lckhUTUwgPSBgJHt3aW5kRGlyZWN0aW9ufSB3aW5kYDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVyX193aW5kX19zdHJlbmd0aFwiKVswXS5pbm5lckhUTUwgPSB3aW5kU3RyZW5ndGg7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwid2VhdGhlcl9fd2luZF9fc3BlZWRcIilbMF0uaW5uZXJIVE1MID0gYCR7d2luZFNwZWVkfSBrbS9oIHNwZWVkYDtcclxuICAgXHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZXZlbnQgaGFuZGxlcnNcclxuZnVuY3Rpb24gb25DaXR5RGF0YUxvYWRlZChyZXN1bHQpIHtcclxuXHJcbiAgICAvLyBncmFiIHRoZSBYTUwgcmVzcG9uc2VcclxuICAgIHhtbE9iamVjdCA9IHJlc3VsdDtcclxuICAgIGxvYWRpbmdPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbmZvX19pY29uXCIpWzBdLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5mb19fY29uZGl0aW9uc1wiKVswXS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIndlYXRoZXJcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG5cclxuICAgIGdldFdlYXRoZXJEYXRhKCk7XHJcbiAgICBjb252ZXJ0V2VhdGhlckRhdGEoKTtcclxuICAgIGRpc3BsYXlEYXRhKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTG9hZGVkKHJlc3VsdCkgeyAgXHJcbiAgICAvLyBncmFiIHRoZSBYTUwgcmVzcG9uc2VcclxuICAgIHhtbE9iamVjdCA9IHJlc3VsdDtcclxuIFxyXG4gICAgY2l0aWVzQ291bnQgPSB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjaXR5XCIpLmxlbmd0aDtcclxuICAgIGlmIChjaXRpZXNDb3VudCA+IDApIHtcclxuICAgICAgICBwb3B1bGF0ZU1lKCk7XHJcbiAgICAgICAgbGlzdEl0ZW0gPSBjb29raWVNYW5hZ2VyLnJldHJpZXZlQ29va2llKFwibGFzdENpdHlcIik7XHJcbiAgICAgICAgaWYgKGxpc3RJdGVtICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjaXRpZXMudmFsdWUgPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZnRlciByZXRyaWV2ZTogXCIgKyBsaXN0SXRlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvbkNoYW5nZWQoKTtcclxuICAgICAgICBsb2FkaW5nT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uQ2l0eU5vdEZvdW5kKGUpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbmZvX19jaXR5XCIpWzBdLmlubmVySFRNTCA9IFwiQ2l0eSBub3QgZm91bmRcIi5mb250Y29sb3IoXCJyZWRcIikuaXRhbGljcygpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluZm9fX2ljb25cIilbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluZm9fX2NvbmRpdGlvbnNcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIndlYXRoZXJcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkVycm9yKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiKioqIEVycm9yIGhhcyBvY2N1cmVkIGR1cmluZyBBSkFYIGRhdGEgcmV0cmlldmFsXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZWQoZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJpbiBvbkNoYW5nZWQ6IFwiICsgbGlzdEl0ZW0pO1xyXG5cclxuICAgIC8vIHJlZmVyZW5jZSB0byBvcHRpb24gaW4gY2l0aWVzXHJcbiAgICBsaXN0SXRlbSA9IGNpdGllcy5zZWxlY3RlZE9wdGlvbnNbMF07XHJcbiAgICBjb25zb2xlLmxvZyhcImluIG9uQ2hhbmdlZCB0ZXh0Q29udGVudDogXCIgKyBsaXN0SXRlbS50ZXh0Q29udGVudCk7XHJcbiAgICBsYXN0Q2l0eSA9IGxpc3RJdGVtLnRleHRDb250ZW50O1xyXG4gICAgbGlzdEl0ZW0gPSBsYXN0Q2l0eTtcclxuICAgIHNhdmVEYXRhKCk7XHJcblxyXG5cclxuICAgIGxldCBjaXR5U3BsaXQgPSBsaXN0SXRlbS5zcGxpdChcIixcIik7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhsaXN0SXRlbS50ZXh0Q29udGVudCk7XHJcbiAgICBjb25zb2xlLmxvZyhjaXR5U3BsaXRbMF0pO1xyXG4gICAgcmV0cmlldmVTY3JpcHQgPSBgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eVNwbGl0WzBdfSxDQSZtb2RlPXhtbCZhcHBpZD02NzYxYWZiMTQ2OGNlMmZlYzljMGIzYzY3ZWUzN2FhMmA7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIikuc3R5bGUub3BhY2l0eSA9IDAuMjtcclxuXHJcbiAgICBnZXRYTUxEYXRhKHJldHJpZXZlU2NyaXB0LCBvbkNpdHlEYXRhTG9hZGVkLCBvbkNpdHlOb3RGb3VuZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVEYXRhKCkge1xyXG4gICAgLy8gd3JpdGUgY3VycmVudCB3b24gYW5kIGxvc3QgY291bnQgdG8gY29va2llIGZvciBmdXR1cmUgZ2FtZXNcclxuICAgIGNvb2tpZU1hbmFnZXIuc2V0dXBDb29raWUoXCJsYXN0Q2l0eVwiLCBsYXN0Q2l0eSwgMzY1KTtcclxuICAgIC8vIGNvb2tpZU1hbmFnZXIuc2V0dXBDb29raWUoXCJsb3N0c1wiLCBsb3N0LCAzNjUpO1xyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHByaXZhdGUgbWV0aG9kc1xyXG5mdW5jdGlvbiBtYWluKCkge1xyXG5cclxuICAgIC8vIGNvbnN0cnVjdCBjb29raWVNYW5hZ2VyXHJcbiAgICBjb29raWVNYW5hZ2VyID0gbmV3IENvb2tpZU1hbmFnZXIoKTtcclxuXHJcblxyXG5cclxuICAgIC8vIHNldHVwIHJlZmVyZW5jZXMgdG8gY29udHJvbHNcclxuICAgIHJldHJpZXZlU2NyaXB0ID0gXCJjaXRpZXMueG1sXCI7XHJcbiAgICBjaXRpZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNpdGllc1wiKTtcclxuICAgIGxvYWRpbmdPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxvYWRpbmctb3ZlcmxheVwiKVswXTtcclxuXHJcbiAgICAvLyBzZW5kIG91dCBBSkFYIHJlcXVlc3RcclxuICAgIGdldFhNTERhdGEocmV0cmlldmVTY3JpcHQsIG9uTG9hZGVkLCBvbkVycm9yKTtcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufVxyXG5cclxubWFpbigpOyJdfQ=="}